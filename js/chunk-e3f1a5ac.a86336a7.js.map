{"version":3,"sources":["webpack:///./src/views/authorization/role-man/index.vue?0bbf","webpack:///src/views/authorization/role-man/index.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/authorization/role-man/index.vue?68b3","webpack:///./src/views/authorization/role-man/index.vue?9f31","webpack:///./src/views/authorization/role-man/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_62bde425_lang_scss_scoped_scoped___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_62bde425_lang_scss_scoped_scoped___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","components","btnList","e","then","bind","baseTitle","page","orgSelect","data","tableData","pageIndex","pageSize","pageTotal","tableList","queryFilterText","labelData","queryStruct","defaultProps","children","label","formInline","rootId","orgIdPa","orgSelectText","refreshText","addForm","orgId","name","describe","orderIndex","identification","formRules","required","message","trigger","created","this","institutions","dataList","methods","filterNode","value","displayName","indexOf","handleSelectionChange","val","_this2","parameter","$api","rolePag","res","success","_this3","level","onlyOrg","parentId","length","queryAddIns","id","structureTop","instBlur","query","SizeChange","CurrentChange","batDelete","_this","ids","i","push","$myLayer","confirmLayer","rolePatDell","successLayer","msg","errorLayer","add","formLayer","$","$refs","validate","valid","notes","rolePatAdd","handleOrgSelect","callback","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","border","title","slot","model","icon","on","btn-click","inline","prop","click","placeholder","blur","$event","stopPropagation","$$v","$set","expression","ref","props","default-expand-all","filter-node-method","node-click","_e","_v","type","staticStyle","width","selection-change","scopedSlots","_u","key","fn","scope","to","path","row","_s","number","handleSizeChange","handleCurrentChange","label-width","rules","initText","node-select","staticRenderFns","authorization_role_manvue_type_script_lang_js_","role_manvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-e3f1a5ac.a86336a7.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=62bde425&lang=scss&scoped=scoped&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=62bde425&lang=scss&scoped=scoped&\"","<!-- 角色管理设置 -->\r\n<template>\r\n\t<div class=\"role\">\r\n\t\t<base-title border title=\"角色设置\">\r\n\t\t<template slot=\"btn\">\r\n\t\t\t<btn-list @btn-click=\"add\" :model=\"{icon:'icon-add',name:'添加'}\"></btn-list>\r\n\t\t\t<btn-list @btn-click=\"batDelete\" :model=\"{icon:'icon-del',name:'删除'}\"></btn-list>\r\n\t\t</template>\r\n\t\t</base-title>\r\n\t\t<div class=\"content\">\r\n\t\t<div class=\"search\">\r\n\t\t\t<el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n\t\t\t\t<el-form-item label=\"组织结构\" prop=\"institutions\">\r\n\t\t\t\t\t<div @click=\"structureTop\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\tv-model=\"formInline.queryFilterText\"\r\n\t\t\t\t\t\t\t\t@blur=\"instBlur\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"请选择或输入\"\r\n\t\t\t\t\t\t\t\t@click.stop>\r\n\t\t\t\t\t\t\t<i slot=\"suffix\"  class=\"iconfont icon-apartment\"></i>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"el-div-tree\" v-if=\"queryStruct\">\r\n\t\t\t\t\t\t<el-tree\r\n\t\t\t\t\t\t\t\tclass=\"filter-tree\"\r\n\t\t\t\t\t\t\t\t:data=\"labelData\"\r\n\t\t\t\t\t\t\t\t:props=\"defaultProps\"\r\n\t\t\t\t\t\t\t\tdefault-expand-all\r\n\t\t\t\t\t\t\t\t:filter-node-method=\"filterNode\"\r\n\t\t\t\t\t\t\t\t@node-click=\"queryAddIns\"\r\n\t\t\t\t\t\t\t\tref=\"tree\">\r\n\t\t\t\t\t\t</el-tree>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--<el-input style=\"width:200px\" placeholder=\"请选择组织结构\"></el-input>-->\r\n\t\t\t\t<el-button class=\"sear-btn\" @click=\"query(1)\">查询</el-button>\r\n\t\t\t\t<el-button class=\"clear-btn\" type=\"text\" @click=\"query(2)\">清空</el-button>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t\t<el-table  :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t<el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"orderIndex\" label=\"显示顺序\"></el-table-column>\r\n\t\t\t<el-table-column label=\"角色名称\">\r\n\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t<router-link :to=\"{path:'/authorization/Layout/role-man-detail',query:{id: scope.row.id}}\">\r\n\t\t\t\t\t{{ scope.row.displayName }}\r\n\t\t\t\t</router-link>\r\n\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"orgName\" label=\"机构\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"notes\" label=\"描述\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"memberCount\" label=\"成员数\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<router-link to=\"\">\r\n\t\t\t\t\t\t{{ scope.row.number }}\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"60\">\r\n\t\t\t\t1\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t</div>\r\n <div class=\"footer\">\r\n\t<page class=\"page\" :pageTotal=\"pageTotal\" @handleSizeChange=\"SizeChange\" @handleCurrentChange=\"CurrentChange\"></page>\r\n </div>\r\n<!--弹出层-->\r\n<div class=\"stu-yeaer-modal-add\">\r\n\t<div class=\"modalAdd\">\r\n\t\t<el-form ref=\"addForm\" :model=\"addForm\" label-width=\"88px\" :rules=\"formRules\" >\r\n\t\t\t<el-form-item label=\"机构\" prop=\"orgId\">\r\n\t\t\t\t<org-select  :rootId=\"rootId\"  :initText=\"orgSelectText\" :refreshText=\"refreshText\"   @node-select=\"handleOrgSelect\"></org-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"角色名称\" prop=\"name\">\r\n\t\t\t\t<el-input v-model=\"addForm.name\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"标识\" prop=\"identification\">\r\n\t\t\t\t<el-input v-model=\"addForm.identification\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"描述\">\r\n\t\t\t\t<el-input v-model=\"addForm.describe\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"显示顺序\">\r\n\t\t\t\t<el-input v-model=\"addForm.orderIndex\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    components:{\r\n        btnList:()=>import(\"@/components/btn-list\"),\r\n        baseTitle:()=>import(\"@/components/title\"),\r\n        page:()=>import(\"@/components/paging\"),\r\n        orgSelect:()=>import(\"@/components/org-select\"),\r\n    },\r\n    data(){\r\n        return {\r\n        \t//表格\r\n            tableData:[],\r\n\t\t\tpageIndex:1,\r\n\t\t\tpageSize:10,\r\n\t\t\tpageTotal:0,\r\n\t\t\ttableList:[],\r\n\t\t\t//头部机构\r\n\t\t\tqueryFilterText:'',//绑定值\r\n\t\t\tlabelData:[],//机构数据\r\n\t\t\tqueryStruct:false,\r\n\t\t\tdefaultProps: {\r\n\t\t\t\tchildren: 'children',\r\n\t\t\t\tlabel: 'displayName'\r\n\t\t\t},\r\n\t\t\tformInline:{\r\n\t\t\t\tqueryFilterText:''\r\n\t\t\t},\r\n\t\t\t//add机构\r\n\t\t\trootId:'0',\r\n\t\t\torgIdPa:null,\r\n\t\t\torgSelectText:'',\r\n\t\t\trefreshText:false,\r\n\t\t\taddForm:{\r\n\t\t\t\torgId:'',\r\n\t\t\t\tname:'',\r\n\t\t\t\tdescribe:'',\r\n\t\t\t\torderIndex:'',\r\n\t\t\t\tidentification:'',\r\n\t\t\t},\r\n\t\t\tformRules:{\r\n\t\t\t\torgId:[{required: true, message: '请选择组织结构', trigger: 'blur'}],\r\n\t\t\t\tname: [{required: true, message: '请输入', trigger: 'blur'}],\r\n\t\t\t\tidentification: [{required: true, message: '请输入', trigger: 'blur'}],\r\n\t\t\t}\r\n        }\r\n    },\r\n\t//初始化\r\n\tcreated() {\r\n    \tthis.institutions();\r\n\t\tthis.dataList();\r\n\t},\r\n\tmethods:{\r\n\t\tfilterNode(value, data) {\r\n\t\t\tif (!value) return true;\r\n\t\t\treturn data.displayName.indexOf(value) !== -1;\r\n\t\t},\r\n\t\t//表格\r\n\t\thandleSelectionChange(val){\r\n\t\t\tthis.tableList = val;\r\n\t\t},\r\n\t\t//分页请求\r\n\t\tdataList(){\r\n\t\t\tlet parameter = {\r\n\t\t\t\tpageIndex:1,\r\n\t\t\t\tpageSize:10,\r\n\t\t\t\torgId:this.queryFilterText,\r\n\t\t\t};\r\n\t\t\tthis.$api.rolePag(parameter).then(res => {\r\n\t\t\t\tif(res.success == true){\r\n\t\t\t\t\tthis.tableData = res.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//机构数据请求\r\n\t\tinstitutions(){\r\n\t\t\tlet parameter = {\r\n\t\t\t\tlevel:0,\r\n\t\t\t\tonlyOrg:1,\r\n\t\t\t\tparentId:0\r\n\t\t\t};\r\n\t\t\tthis.$api.institutions(parameter).then(res => {\r\n\t\t\t\tif(res.success == true){\r\n\t\t\t\t\tthis.pageTotal = res.data.length;\r\n\t\t\t\t\tthis.labelData = res.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//点击机构\r\n\t\tqueryAddIns(val){\r\n\t\t\tthis.queryFilterText = val.id;\r\n\t\t\tthis.formInline.queryFilterText = val.displayName;\r\n\t\t\tthis.queryStruct = false;\r\n\t\t},\r\n\t\tstructureTop() {\r\n\t\t\tthis.queryStruct = !this.queryStruct\r\n\t\t},\r\n\t\tinstBlur(){\r\n\t\t\tthis.queryStruct = false;\r\n\t\t},\r\n\t\t//查询\r\n\t\tquery(val){\r\n\t\t\tif(val == 1){\r\n\t\t\t\tthis.dataList();\r\n\t\t\t}else {\r\n\t\t\t\tthis.queryFilterText = '';\r\n\t\t\t\tthis.formInline.queryFilterText = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t//分页\r\n\t\tSizeChange(val){\r\n\t\t\tthis.pageSize = val;\r\n\t\t\tthis.dataList();\r\n\t\t},\r\n\t\tCurrentChange(val){\r\n\t\t\tthis.pageIndex = val;\r\n\t\t\tthis.dataList();\r\n\t\t},\r\n\t\t//批量删除\r\n\t\tbatDelete(){\r\n\t\t\tlet _this = this;\r\n\t\t\tif(_this.tableList.length != 0){\r\n\t\t\t\tlet ids = [];\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\tfor (i = 0; i < _this.tableList.length; i++) {\r\n\t\t\t\t\tids.push(_this.tableList[i].id)\r\n\t\t\t\t}\r\n\t\t\t\t_this.$myLayer.confirmLayer(\"确定删除吗？\",  function () {\r\n\t\t\t\t\t_this.$api.rolePatDell(ids).then(res => {\r\n\t\t\t\t\t\tif(res.success == true){\r\n\t\t\t\t\t\t\t_this.$myLayer.successLayer(res.msg)\r\n\t\t\t\t\t\t\t_this.dataList();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}else {\r\n\t\t\t\t_this.$myLayer.errorLayer('至少选择一条数据')\r\n\t\t\t}\r\n\t\t},\r\n\t\t//添加\r\n\t\tadd(){\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.$myLayer.formLayer(\"添加\", $('.stu-yeaer-modal-add'), ['422px'], function () {\r\n\t\t\t\t_this.$refs[\"addForm\"].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet parameter = {\r\n\t\t\t\t\t\t\torgId:_this.orgIdPa,\r\n\t\t\t\t\t\t\tname:_this.addForm.identification,\r\n\t\t\t\t\t\t\tdisplayName:_this.addForm.name,\r\n\t\t\t\t\t\t\tnotes:_this.addForm.describe,\r\n\t\t\t\t\t\t\torderIndex:_this.addForm.orderIndex,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_this.$api.rolePatAdd(parameter).then(res => {\r\n\t\t\t\t\t\t\tif(res.success == true){\r\n\t\t\t\t\t\t\t\t_this.$myLayer.successLayer(res.msg)\r\n\t\t\t\t\t\t\t\t_this.dataList();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t},\r\n\t\t//添加机构\r\n\t\thandleOrgSelect(val,callback){\r\n\t\t\tthis.orgIdPa = val.id;\r\n\t\t\tthis.addForm.orgId = val.id;\r\n\t\t\tcallback(true);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"scoped\">\r\n.role {\r\n padding: 18px 24px;\r\n}\r\n.content {\r\n\t.search {\r\n\t\tmargin: 20px 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t.title {\r\n\t\t\tpadding-right: 5px;\r\n\t\t}\r\n\t\t.sear-btn {\r\n\t\t\tmargin-left: 20px;\r\n\t\t\tpadding: 10px 20px;\r\n\t\t}\r\n\t\t.clear-btn {\r\n\t\t\ttext-decoration: underline;\r\n\t\t}\r\n\t}\r\n}\r\n.footer {\r\n\ttext-align: right;\r\n\tmargin-top: 25px;\r\n\t.page {\r\n\t\tdisplay: inline-block\r\n\t}\r\n}\r\n.el-div-tree{\r\n\tposition: absolute;\r\n\ttop:45px;\r\n\twidth: 100%;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #ebeef5;\r\n\tborder-radius: 4px;\r\n\t-webkit-box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\r\n\tbox-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\r\n\tz-index: 9999999!important;\r\n\toverflow: auto;\r\n}\r\n.stu-yeaer-modal-add, .tu-yeaer-modal-edit {\r\n\tdisplay: none;\r\n}\r\n.modalAdd {\r\n\tpadding: 0px 32px;\r\n\tmargin: 24px 0px;\r\n}\r\n</style>\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"role\"},[_c('base-title',{attrs:{\"border\":\"\",\"title\":\"角色设置\"}},[_c('template',{slot:\"btn\"},[_c('btn-list',{attrs:{\"model\":{icon:'icon-add',name:'添加'}},on:{\"btn-click\":_vm.add}}),_c('btn-list',{attrs:{\"model\":{icon:'icon-del',name:'删除'}},on:{\"btn-click\":_vm.batDelete}})],1)],2),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"组织结构\",\"prop\":\"institutions\"}},[_c('div',{on:{\"click\":_vm.structureTop}},[_c('el-input',{attrs:{\"placeholder\":\"请选择或输入\"},on:{\"blur\":_vm.instBlur,\"click\":function($event){$event.stopPropagation();}},model:{value:(_vm.formInline.queryFilterText),callback:function ($$v) {_vm.$set(_vm.formInline, \"queryFilterText\", $$v)},expression:\"formInline.queryFilterText\"}},[_c('i',{staticClass:\"iconfont icon-apartment\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),(_vm.queryStruct)?_c('div',{staticClass:\"el-div-tree\"},[_c('el-tree',{ref:\"tree\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.labelData,\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"filter-node-method\":_vm.filterNode},on:{\"node-click\":_vm.queryAddIns}})],1):_vm._e()]),_c('el-button',{staticClass:\"sear-btn\",on:{\"click\":function($event){_vm.query(1)}}},[_vm._v(\"查询\")]),_c('el-button',{staticClass:\"clear-btn\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.query(2)}}},[_vm._v(\"清空\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderIndex\",\"label\":\"显示顺序\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{path:'/authorization/Layout/role-man-detail',query:{id: scope.row.id}}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(scope.row.displayName)+\"\\n\\t\\t\\t\\t\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orgName\",\"label\":\"机构\"}}),_c('el-table-column',{attrs:{\"prop\":\"notes\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"memberCount\",\"label\":\"成员数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":\"\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(scope.row.number)+\"\\n\\t\\t\\t\\t\\t\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"60\"}},[_vm._v(\"\\n\\t\\t\\t\\t1\\n\\t\\t\\t\")])],1)],1),_c('div',{staticClass:\"footer\"},[_c('page',{staticClass:\"page\",attrs:{\"pageTotal\":_vm.pageTotal},on:{\"handleSizeChange\":_vm.SizeChange,\"handleCurrentChange\":_vm.CurrentChange}})],1),_c('div',{staticClass:\"stu-yeaer-modal-add\"},[_c('div',{staticClass:\"modalAdd\"},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"88px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"机构\",\"prop\":\"orgId\"}},[_c('org-select',{attrs:{\"rootId\":_vm.rootId,\"initText\":_vm.orgSelectText,\"refreshText\":_vm.refreshText},on:{\"node-select\":_vm.handleOrgSelect}})],1),_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"标识\",\"prop\":\"identification\"}},[_c('el-input',{model:{value:(_vm.addForm.identification),callback:function ($$v) {_vm.$set(_vm.addForm, \"identification\", $$v)},expression:\"addForm.identification\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{model:{value:(_vm.addForm.describe),callback:function ($$v) {_vm.$set(_vm.addForm, \"describe\", $$v)},expression:\"addForm.describe\"}})],1),_c('el-form-item',{attrs:{\"label\":\"显示顺序\"}},[_c('el-input',{model:{value:(_vm.addForm.orderIndex),callback:function ($$v) {_vm.$set(_vm.addForm, \"orderIndex\", $$v)},expression:\"addForm.orderIndex\"}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=62bde425&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=62bde425&lang=scss&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62bde425\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}