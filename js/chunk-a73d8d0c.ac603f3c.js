(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a73d8d0c"],{"1e9c":function(t,e,a){},"49e1":function(t,e,a){},"5b42":function(t,e,a){"use strict";var n=a("49e1"),s=a.n(n);s.a},"5e94":function(t,e,a){"use strict";var n=a("1e9c"),s=a.n(n);s.a},"7f7f":function(t,e,a){var n=a("86cc").f,s=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in s||a("9e1e")&&n(s,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},a019:function(t,e,a){},a6f8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-center"},[a("uploadHeader"),a("div",{staticClass:"container"},[a("div",{staticClass:"container-head"},[a("ul",[a("li",{class:{active:"uploading"===t.active},on:{click:function(e){t.handleChange("uploading")}}},[t._v("上传中")]),a("li",{class:{active:"uploaded"===t.active},on:{click:function(e){t.handleChange("uploaded")}}},[t._v("待发布")]),a("li",{class:{active:"published"===t.active},on:{click:function(e){t.handleChange("published")}}},[t._v("已发布")])]),"published"===t.active?[t._m(0),t._m(1)]:t._e(),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://192.168.38.221:8081/uploadFile/uploadFile.do","file-list":t.fileList,"on-progress":t.uploadProgress,"on-success":t.uploadSuccess,"on-change":t.uploadChange,headers:t.tokenData,data:t.type}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[a("i",{staticClass:"iconfont icon-add"}),t._v("\n\t\t\t\t\t\t上传\n\t\t\t\t\t")])],1)],2),a("div",{staticClass:"container-main"},["uploading"===t.active?[a("el-table",{key:"uploadingData",attrs:{data:t.uploadingData}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"60",label:"序号"}}),a("el-table-column",{attrs:{prop:"name",label:"文件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(e.row.name))])]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",prop:"size",label:"文件大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(t.fileSize(e.row.size)))])]}}])}),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{percentage:t.row.status}})]}}])}),a("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"iconfont iconshanchu",staticStyle:{cursor:"pointer"},on:{click:function(a){t.stopUpload(e.row.file,e.$index)}}})]}}])})],1)]:t._e(),"uploaded"===t.active?[a("el-table",{key:"uploaded",attrs:{data:t.uploadedData}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"60",label:"序号"}}),a("el-table-column",{attrs:{prop:"fileName",label:"文件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(e.row.fileName))])]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",prop:"fileSize",label:"文件大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(t.fileSize(e.row.fileSize)))])]}}])}),a("el-table-column",{attrs:{prop:"createtime",align:"center",label:"上传时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(t.timeFormat(e.row.createtime)))])]}}])}),a("el-table-column",{attrs:{prop:"fileTransStatus",align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(e.row.fileTransStatus))])]}}])}),a("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.checked?a("div",{staticClass:"control-btns",on:{mouseleave:function(t){e.row.checked=!1}}},[a("span",{on:{click:function(a){t.jumpRes(e.row.fileId)}}},[t._v("发布")]),a("span",{on:{click:function(a){t.issueDel(e.row.fileId)}}},[t._v("删除")]),a("span",[t._v("剪辑")])]):a("i",{staticClass:"p-center iconfont icon-more",on:{mouseenter:function(t){e.row.checked=!0}}})]}}])})],1),a("resPagination",{attrs:{total:t.totalDatas},on:{onSizeChange:t.jump}})]:t._e(),"published"===t.active?[a("el-table",{key:"published",attrs:{data:t.publishedData}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"60",label:"序号"}}),a("el-table-column",{attrs:{prop:"fileName",label:"文件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(e.row.fileName))])]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",prop:"fileSize",label:"文件大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(t.fileSize(e.row.fileSize)))])]}}])}),a("el-table-column",{attrs:{prop:"createtime",align:"center",label:"上传时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(t.timeFormat(e.row.createtime)))])]}}])}),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"}}),a("el-table-column",{attrs:{prop:"publishWay",align:"center",label:"发布去向"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow"},[t._v(t._s(10010==e.row.publishWay?"资源平台":"同步课堂"))])]}}])}),a("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.checked?a("div",{staticClass:"control-btns",on:{mouseleave:function(t){e.row.checked=!1}}},[a("span",{on:{click:function(a){t.issueDel(e.row.fileId)}}},[t._v("删除")]),a("span",{on:{click:function(a){t.jumpEdit(e.row.fileId)}}},[t._v("标记")])]):a("i",{staticClass:"p-center iconfont icon-more",on:{mouseenter:function(t){e.row.checked=!0}}})]}}])})],1),a("resPagination",{attrs:{total:t.totalDatas1},on:{onSizeChange:t.jump1}})]:t._e()],2)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-filter"},[t._v("审核状态"),a("i",{staticClass:"el-icon-arrow-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-filter"},[t._v("发布去向"),a("i",{staticClass:"el-icon-arrow-down"})])}],i=(a("7f7f"),{components:{uploadHeader:function(){return a.e("chunk-306184f2").then(a.bind(null,"db73"))},resPagination:function(){return a.e("chunk-37c70c83").then(a.bind(null,"3f02"))}},data:function(){return{tokenData:{Authorization:localStorage.getItem("Authorization")},type:{upType:"10000"},active:"uploading",fileList:[],uploadingData:[],uploadedData:[{order:1,time:"2019-05-25  10:22",name:"殖民地人民的反抗斗争-历史九年级下册.mp4",size:"400MB",status:"转码中",checked:!1}],publishedData:[{order:1,time:"2019-05-25  10:22",name:"殖民地人民的反抗斗争-历史九年级下册.mp4",size:"400MB",status:"转码中",dire:"同步课堂",checked:!1}],totalDatas:0,pageNo:1,totalDatas1:0,pageNo1:1}},created:function(){this.waitIssue(),this.Issueed()},mounted:function(){},methods:{handleChange:function(t){this.active=t},uploadProgress:function(t,e,a){var n,s=[];for(var i in a)100!=a[i].percentage&&(n={name:a[i].name,size:a[i].size,status:Math.ceil(a[i].percentage),file:a[i]},s.push(n));this.uploadingData=s},uploadSuccess:function(t,e,a){t.success&&(this.$myLayer.successLayer(t.msg),this.waitIssue());var n,s=[];for(var i in a)100!=a[i].percentage&&(n={name:a[i].name,size:a[i].size,status:Math.ceil(a[i].percentage),file:a[i]},s.push(n));this.uploadingData=s},stopUpload:function(t,e){this.$refs.upload.abort(t),this.uploadingData.splice(e,1)},uploadChange:function(t,e){console.log(e)},uploadFile:function(t){t.file},waitIssue:function(){var t=this;this.$api.issueList({isdeleted:1,pageNo:this.pageNo,pageSize:10,upStatus:9081,publishStatus:9091}).then(function(e){t.totalDatas=e.totalDatas,e.data.map(function(t){t.checked=!1}),console.log(123),t.uploadedData=e.data})},jump:function(t){this.pageNo=t,this.waitIssue()},jump1:function(t){this.pageNo1=t,this.Issueed()},Issueed:function(){var t=this;this.$api.issueList({isdeleted:1,pageNo:this.pageNo1,pageSize:10,upStatus:9081,publishStatus:9090}).then(function(e){t.totalDatas1=e.totalDatas,e.data.map(function(t){t.checked=!1}),console.log(456),t.publishedData=e.data})},issueDel:function(t){var e=this;this.$api.issueDel({fileId:t,isdeleted:0}).then(function(t){t.success?e.$myLayer.successLayer(t.msg):e.$myLayer.errorLayer(t.msg),e.waitIssue(),e.Issueed()})},jumpRes:function(t){this.$router.push({path:"/resource/Layout/resource-list/upload/".concat(t)})},jumpEdit:function(t){this.$router.push({path:"/resource/Layout/resource-list/edit/".concat(t)})},fileSize:function(t){var e,a=parseInt(t);return e=a>=1073741824?(a/1073741824).toFixed(2)+"GB":a>=1048576?(a/1048576).toFixed(2)+"MB":a>=1024?(a/1024).toFixed(2)+"kB":a+"B",e},timeFormat:function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<=9?"0"+e.getDate():e.getDate(),i=e.getHours()<=9?"0"+e.getHours():e.getHours(),o=e.getMinutes()<=9?"0"+e.getMinutes():e.getMinutes();return"".concat(a,"-").concat(n,"-").concat(s," ").concat(i,":").concat(o)}}}),o=i,l=(a("5b42"),a("d934"),a("5e94"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"f8df51ce",null);c.options.__file="index.vue";e["default"]=c.exports},d934:function(t,e,a){"use strict";var n=a("a019"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-a73d8d0c.ac603f3c.js.map