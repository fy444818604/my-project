{"version":3,"sources":["webpack:///./src/views/resource/resource-list/upload-res.vue?28cc","webpack:///./src/views/resource/resource-list/upload-res.vue?ce02","webpack:///./src/views/resource/resource-list/upload-res.vue","webpack:///src/views/resource/resource-list/upload-res.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/resource/resource-list/upload-res.vue?ee7e","webpack:///./src/views/resource/resource-list/upload-res.vue?c2b1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","fileInfo","file_type","_v","_s","file_name","_e","_m","attrs","type","on","change","handleUploadCoverPic","selectImgPic","src","url","alt","_l","item","index","key","class","active","click","$event","handleChangeCoverPic","model","value","callback","$$v","resourceName","expression","label","resourceType","staticStyle","width","suffix-icon","placeholder","nativeOn","stopPropagation","showSelect","selectedLesson","$set","directives","name","rawName","stageValue","code","text","subjectValue","id","gradeValue","versionValue","height","empty-text","data","treeList","props","defaultProps","node-click","handleNodeClick","rows","resize","maxlength","show-word-limit","resourceMask","showAdvance","authType","margin-left","focus","handleFocus","orgValueText","authPassword","active-value","inactive-value","active-color","inactive-color","canDownload","ref","http-request","handleUploadFile","before-remove","handleRemoveFile","action","handleSave","filterable","filter-placeholder","allOrg","filter-method","filterMethod","authOrgArray","staticRenderFns","resource_list_upload_resvue_type_script_lang_js_","upload_resvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","components","resFooter","__webpack_require__","e","then","bind","query","indexOf","file","fileList","Array","fill","allStageList","allSubject","allGradeList","allVersionList","children","selectedArray","attachmentList","watch","watchChange","newValue","getSubjectTree","computed","created","initInfo","getAllGrade","getAllSubject","getAllClass","getAllVersion","selectSchoolForPublicResource","methods","_this","$api","res","map","displayName","_this2","selectFileInfo","splice","img_url","_this3","params","gradeId","periodId","subjectId","textbookVersionId","_this4","dictGetByType","_this5","getSubjectByGrade","_this6","_this7","getKeyAndValue","_this8","$myLayer","formLayer","$","length","targetFile","target","files","window","URL","createObjectURL","handleOutFocusInput","hasNext","checkRequiredParams","dangerLayer","filter","attachmentName","E_ceshi_my_project_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_this9","form","FormData","append","uploadFileCoverPic","attachmentUrl","push","_this10","resourcePic","catalogId","stageId","versionId","fileId","file_id","fileType","fileTime","runing_time","saveResourceInfo","successLayer","_arrayWithoutHoles","arr","isArray","i","arr2","_iterableToArray","iter","Symbol","iterator","prototype","toString","call","from","_nonIterableSpread","TypeError","_toConsumableArray","d","toObject","toAbsoluteIndex","toLength","module","exports","O","aLen","arguments","undefined","end","endPos","$export","P","dP","f","FProto","Function","nameRE","NAME","configurable","get","match","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_res_vue_vue_type_style_index_0_id_2b0c1124_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_res_vue_vue_type_style_index_0_id_2b0c1124_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_res_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_res_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-e48f924c.82ca8189.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-res\"},[_c('div',{staticClass:\"content\"},[(_vm.fileInfo.file_type === 9030)?_c('div',{staticClass:\"current-video\"},[_vm._v(\"当前视频：\"+_vm._s(_vm.fileInfo.file_name))]):_vm._e(),(_vm.fileInfo.file_type === 9031)?_c('div',{staticClass:\"current-video\"},[_vm._v(\"当前文档：\"+_vm._s(_vm.fileInfo.file_name))]):_vm._e(),(_vm.fileInfo.file_type === 9032)?_c('div',{staticClass:\"current-video\"},[_vm._v(\"其他：\"+_vm._s(_vm.fileInfo.file_name))]):_vm._e(),_c('div',{staticClass:\"res-cover\"},[_vm._m(0),_c('div',{staticClass:\"upload-wrap\"},[_c('div',{staticClass:\"upload\"},[_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleUploadCoverPic}}),_c('i',{staticClass:\"p-center el-icon-plus avatar-uploader-icon\"}),(_vm.selectImgPic.url)?_c('img',{attrs:{\"src\":_vm.selectImgPic.url,\"alt\":\"\"}}):_vm._e(),(_vm.selectImgPic.url)?_c('div',{staticClass:\"cover-logo\"},[_vm._v(\"上传封面\")]):_vm._e()]),_c('div',{staticClass:\"cover-select\"},[_c('div',{staticClass:\"note\"},[_vm._v(\"可以选择以下封面\")]),_c('div',{staticClass:\"covers\"},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:index,staticClass:\"cover-item\",class:{active:item === _vm.selectImgPic.url}},[(item)?_c('img',{attrs:{\"src\":item,\"alt\":\"\"},on:{\"click\":function($event){_vm.handleChangeCoverPic(item)}}}):_vm._e(),_c('i',{staticClass:\"iconfont icon-picture p-center\"})])}))])]),_c('div',{staticClass:\"res-info\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"res-name\"},[_c('span',{staticClass:\"red-dot\"},[_vm._v(\"资源名称：\")]),_c('el-input',{model:{value:(_vm.resourceName),callback:function ($$v) {_vm.resourceName=$$v},expression:\"resourceName\"}})],1),_c('div',{staticClass:\"res-type\"},[_c('span',{staticClass:\"red-dot\"},[_vm._v(\"资源类型：\")]),[_c('el-radio',{attrs:{\"label\":\"9060\"},model:{value:(_vm.resourceType),callback:function ($$v) {_vm.resourceType=$$v},expression:\"resourceType\"}},[_vm._v(\"学科教育\")]),_c('el-radio',{attrs:{\"label\":\"9061\"},model:{value:(_vm.resourceType),callback:function ($$v) {_vm.resourceType=$$v},expression:\"resourceType\"}},[_vm._v(\"教育活动\")])]],2),_c('div',{staticClass:\"relate-course\"},[_c('span',{staticClass:\"red-dot\"},[_vm._v(\"相关课程：\")]),_c('el-input',{staticStyle:{\"width\":\"475px\"},attrs:{\"suffix-icon\":\"el-icon-arrow-down\",\"placeholder\":\"请选择相关课程\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.showSelect=true}},model:{value:(_vm.selectedLesson.label),callback:function ($$v) {_vm.$set(_vm.selectedLesson, \"label\", $$v)},expression:\"selectedLesson.label\"}}),(_vm.showSelect)?_c('div',{directives:[{name:\"clickOutSide\",rawName:\"v-clickOutSide\",value:(_vm.handleOutFocusInput),expression:\"handleOutFocusInput\"}],staticClass:\"select-wrap\"},[_c('div',{staticClass:\"select-items\"},[_c('el-select',{attrs:{\"placeholder\":\"全部学段\"},model:{value:(_vm.stageValue),callback:function ($$v) {_vm.stageValue=$$v},expression:\"stageValue\"}},[_c('el-option',{attrs:{\"value\":\"-1\",\"label\":\"全部学段\"}}),_vm._l((_vm.allStageList),function(item){return _c('el-option',{key:item.code,attrs:{\"value\":item.code,\"label\":item.text}})})],2),_c('el-select',{attrs:{\"placeholder\":\"全部科目\"},model:{value:(_vm.subjectValue),callback:function ($$v) {_vm.subjectValue=$$v},expression:\"subjectValue\"}},[_c('el-option',{attrs:{\"value\":\"-1\",\"label\":\"全部科目\"}}),_vm._l((_vm.allSubject),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2),_c('el-select',{attrs:{\"placeholder\":\"全部年级\"},model:{value:(_vm.gradeValue),callback:function ($$v) {_vm.gradeValue=$$v},expression:\"gradeValue\"}},[_c('el-option',{attrs:{\"label\":\"全部年级\",\"value\":\"-1\"}}),_vm._l((_vm.allGradeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.code,\"label\":item.text}})})],2),_c('el-select',{attrs:{\"placeholder\":\"全部版本\"},model:{value:(_vm.versionValue),callback:function ($$v) {_vm.versionValue=$$v},expression:\"versionValue\"}},[_c('el-option',{attrs:{\"value\":\"-1\",\"label\":\"全部版本\"}}),_vm._l((_vm.allVersionList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})})],2)],1),_c('div',{staticClass:\"select-lists\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('el-tree',{attrs:{\"empty-text\":\"请选择正确的学段/科目/年级/版本\",\"data\":_vm.treeList,\"props\":_vm.defaultProps},on:{\"node-click\":_vm.handleNodeClick}})],1)],1)]):_vm._e()],1)]),_c('div',{staticClass:\"right\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"讲讲这个资源的故事，让更多人了解\",\"rows\":5,\"resize\":\"none\",\"maxlength\":\"300\",\"show-word-limit\":\"\"},model:{value:(_vm.resourceMask),callback:function ($$v) {_vm.resourceMask=$$v},expression:\"resourceMask\"}})],1)]),_c('div',{staticClass:\"advance-course\"},[_c('div',{staticClass:\"title\",on:{\"click\":function($event){_vm.showAdvance = !_vm.showAdvance}}},[_vm._v(\"\\n          高级选项\\n          \"),_c('i',{class:_vm.showAdvance?'el-icon-arrow-up':'el-icon-arrow-down'})]),(_vm.showAdvance)?[_c('div',{staticClass:\"advance-content\"},[_c('div',{staticClass:\"authty\"},[_c('div',{staticClass:\"visited\"},[_c('span',[_vm._v(\"访问权限：\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.authType),callback:function ($$v) {_vm.authType=$$v},expression:\"authType\"}},[_c('el-option',{attrs:{\"label\":\"公开\",\"value\":\"9070\"}}),_c('el-option',{attrs:{\"label\":\"指定机构\",\"value\":\"9071\"}}),_c('el-option',{attrs:{\"label\":\"凭密码查看\",\"value\":\"9072\"}})],1),(_vm.authType === '9071')?[_c('el-input',{staticStyle:{\"margin-left\":\"15px\",\"width\":\"260px\"},attrs:{\"placeholder\":\"请选择指定机构\"},on:{\"focus\":_vm.handleFocus},model:{value:(_vm.orgValueText),callback:function ($$v) {_vm.orgValueText=$$v},expression:\"orgValueText\"}})]:_vm._e(),(_vm.authType === '9072')?[_c('el-input',{staticStyle:{\"margin-left\":\"15px\",\"width\":\"260px\"},attrs:{\"placeholder\":\"请填写密码\"},model:{value:(_vm.authPassword),callback:function ($$v) {_vm.authPassword=$$v},expression:\"authPassword\"}})]:_vm._e()],2),_c('div',{staticClass:\"down\"},[_c('span',[_vm._v(\"下载权限：\")]),_c('el-switch',{attrs:{\"active-value\":\"1\",\"inactive-value\":\"2\",\"active-color\":\"#409EFF\",\"inactive-color\":\"#ccc\"},model:{value:(_vm.canDownload),callback:function ($$v) {_vm.canDownload=$$v},expression:\"canDownload\"}})],1)]),_c('div',{staticClass:\"res-upload\"},[_c('span',[_vm._v(\"资源附件:\")]),_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"http-request\":_vm.handleUploadFile,\"before-remove\":_vm.handleRemoveFile,\"action\":\"\"}},[_c('div',{staticClass:\"upload-btn\"},[_vm._v(\"上传\")])])],1)])]:_vm._e()],2),_c('div',{staticClass:\"save\",on:{\"click\":_vm.handleSave}},[_vm._v(\"保存发布\")])])]),_c('resFooter'),_c('div',{staticClass:\"transfer\"},[_c('el-transfer',{attrs:{\"filterable\":\"\",\"filter-placeholder\":\"请输机构名筛选\",\"data\":_vm.allOrg,\"filter-method\":_vm.filterMethod},model:{value:(_vm.authOrgArray),callback:function ($$v) {_vm.authOrgArray=$$v},expression:\"authOrgArray\"}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"name red-dot\"},[_vm._v(\"资源封面：\")]),_c('span',{staticClass:\"size\"},[_vm._v(\"建议尺寸: 288*162\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-res.vue?vue&type=template&id=2b0c1124&scoped=true&\"\nimport script from \"./upload-res.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-res.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload-res.vue?vue&type=style&index=0&id=2b0c1124&lang=scss&scoped=true&\"\nimport style1 from \"./upload-res.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b0c1124\",\n  null\n  \n)\n\ncomponent.options.__file = \"upload-res.vue\"\nexport default component.exports","<!--上传资源-->\r\n<template>\r\n  <div class=\"upload-res\">\r\n    <div class=\"content\">\r\n      <div v-if=\"fileInfo.file_type === 9030\" class=\"current-video\">当前视频：{{fileInfo.file_name}}</div>\r\n      <div v-if=\"fileInfo.file_type === 9031\" class=\"current-video\">当前文档：{{fileInfo.file_name}}</div>\r\n      <div v-if=\"fileInfo.file_type === 9032\" class=\"current-video\">其他：{{fileInfo.file_name}}</div>\r\n      <!-- 资源封面 -->\r\n      <div class=\"res-cover\">\r\n        <div class=\"title\">\r\n          <span class=\"name red-dot\">资源封面：</span>\r\n          <span class=\"size\">建议尺寸: 288*162</span>\r\n        </div>\r\n        <div class=\"upload-wrap\">\r\n          <div class=\"upload\">\r\n            <input @change=\"handleUploadCoverPic\" type=\"file\">\r\n            <i class=\"p-center el-icon-plus avatar-uploader-icon\"></i>\r\n            <img v-if=\"selectImgPic.url\" :src=\"selectImgPic.url\" alt=\"\">\r\n            <div class=\"cover-logo\" v-if=\"selectImgPic.url\">上传封面</div>\r\n          </div>\r\n          <div class=\"cover-select\">\r\n            <div class=\"note\">可以选择以下封面</div>\r\n            <div class=\"covers\">\r\n              <div \r\n                v-for=\"(item,index) in fileList\" \r\n                :key=\"index\"\r\n                :class=\"{active:item === selectImgPic.url}\"\r\n                class=\"cover-item\">\r\n                <img @click=\"handleChangeCoverPic(item)\" v-if=\"item\" :src=\"item\" alt=\"\">\r\n                <i class=\"iconfont icon-picture p-center\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"res-info\">\r\n          <div class=\"left\">\r\n            <div class=\"res-name\">\r\n              <span class=\"red-dot\">资源名称：</span>\r\n              <el-input v-model=\"resourceName\"></el-input>\r\n            </div>\r\n            <div class=\"res-type\">\r\n              <span class=\"red-dot\">资源类型：</span>\r\n              <template>\r\n                <el-radio v-model=\"resourceType\" label=\"9060\">学科教育</el-radio>\r\n                <el-radio v-model=\"resourceType\" label=\"9061\">教育活动</el-radio>\r\n              </template>\r\n            </div>\r\n            <!-- 相关课程 -->\r\n            <div class=\"relate-course\">\r\n              <span class=\"red-dot\">相关课程：</span>\r\n              <el-input \r\n                @click.stop.native=\"showSelect=true\"\r\n                style=\"width:475px\" \r\n                suffix-icon=\"el-icon-arrow-down\"\r\n                v-model=\"selectedLesson.label\" \r\n                placeholder=\"请选择相关课程\">\r\n              </el-input>\r\n              <div v-if=\"showSelect\" v-clickOutSide=\"handleOutFocusInput\"   class=\"select-wrap\">\r\n                <div class=\"select-items\">\r\n                  <el-select v-model=\"stageValue\" placeholder=\"全部学段\">\r\n                    <el-option value=\"-1\" label=\"全部学段\"></el-option>\r\n                    <el-option\r\n                      v-for=\"item in allStageList\"\r\n                      :key=\"item.code\"\r\n                      :value=\"item.code\"\r\n                      :label=\"item.text\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                  <el-select v-model=\"subjectValue\" placeholder=\"全部科目\">\r\n                    <el-option value=\"-1\" label=\"全部科目\"></el-option>\r\n                    <el-option \r\n                      v-for=\"item in allSubject\" \r\n                      :key=\"item.id\" \r\n                      :label=\"item.name\" \r\n                      :value=\"item.id\" >\r\n                    </el-option>\r\n                  </el-select>\r\n                  <el-select v-model=\"gradeValue\" placeholder=\"全部年级\">\r\n                    <el-option label=\"全部年级\" value=\"-1\"> </el-option>\r\n                    <el-option\r\n                      v-for=\"item in allGradeList\"\r\n                      :key=\"item.id\"\r\n                      :value=\"item.code\"\r\n                      :label=\"item.text\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                  <el-select v-model=\"versionValue\" placeholder=\"全部版本\">\r\n                    <el-option value=\"-1\" label=\"全部版本\"></el-option>\r\n                    <el-option\r\n                      v-for=\"item in allVersionList\"\r\n                      :key=\"item.id\"\r\n                      :value=\"item.id\"\r\n                      :label=\"item.name\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </div>\r\n                <div class=\"select-lists\">\r\n                  <el-scrollbar style=\"height:100%\">\r\n                    <el-tree \r\n                    empty-text=\"请选择正确的学段/科目/年级/版本\"\r\n                    :data=\"treeList\" \r\n                    :props=\"defaultProps\" \r\n                    @node-click=\"handleNodeClick\"></el-tree>\r\n                  </el-scrollbar>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              placeholder=\"讲讲这个资源的故事，让更多人了解\"\r\n              v-model=\"resourceMask\"\r\n              :rows=\"5\"\r\n              resize=\"none\"\r\n              maxlength=\"300\"\r\n              show-word-limit\r\n            ></el-input>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 高级 -->\r\n        <div class=\"advance-course\">\r\n          <div class=\"title\" @click=\"showAdvance = !showAdvance\">\r\n            高级选项\r\n            <i :class=\"showAdvance?'el-icon-arrow-up':'el-icon-arrow-down'\"></i>\r\n          </div>\r\n          <template v-if=\"showAdvance\">\r\n            <div class=\"advance-content\">\r\n              <div class=\"authty\">\r\n                <div class=\"visited\">\r\n                  <span>访问权限：</span>\r\n                  <el-select v-model=\"authType\" placeholder=\"请选择\">\r\n                    <el-option label=\"公开\" value=\"9070\"></el-option>\r\n                    <el-option label=\"指定机构\" value=\"9071\"></el-option>\r\n                    <el-option label=\"凭密码查看\" value=\"9072\"></el-option>\r\n                  </el-select>\r\n                  <!-- 指定机构 -->\r\n                  <template v-if=\"authType === '9071'\">\r\n                    <el-input \r\n                    v-model=\"orgValueText\"\r\n                    style=\"margin-left:15px;width:260px\"  \r\n                    placeholder=\"请选择指定机构\"\r\n                    @focus=\"handleFocus\"></el-input>\r\n                  </template>\r\n                  <!-- 密码 -->\r\n                  <template v-if=\"authType === '9072'\">\r\n                    <el-input\r\n                      style=\"margin-left:15px;width:260px\"\r\n                      placeholder=\"请填写密码\"\r\n                      v-model=\"authPassword\"\r\n                    ></el-input>\r\n                  </template>\r\n                </div>\r\n                <div class=\"down\">\r\n                  <span>下载权限：</span>\r\n                  <el-switch \r\n                  v-model=\"canDownload\" \r\n                  active-value=\"1\"\r\n                  inactive-value=\"2\"\r\n                  active-color=\"#409EFF\" \r\n                  inactive-color=\"#ccc\"></el-switch>\r\n                </div>\r\n              </div>\r\n              <div class=\"res-upload\">\r\n                <span>资源附件:</span>\r\n                <el-upload \r\n                  class=\"upload-demo\"\r\n                  :http-request=\"handleUploadFile\"\r\n                  :before-remove=\"handleRemoveFile\"\r\n                  ref=\"upload\"\r\n                  action=\"\">\r\n                  <div class=\"upload-btn\">上传</div>\r\n                </el-upload>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n\r\n        <div @click=\"handleSave\" class=\"save\">保存发布</div>\r\n      </div>\r\n    </div>\r\n    <resFooter></resFooter>\r\n    <!-- transfer 穿梭框 -->\r\n    <div class=\"transfer\">\r\n      <el-transfer\r\n        filterable\r\n        v-model=\"authOrgArray\"\r\n        filter-placeholder=\"请输机构名筛选\"\r\n        :data=\"allOrg\"\r\n        :filter-method=\"filterMethod\"\r\n      ></el-transfer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* \r\n9030: 视频\r\n9031: 文档\r\n9032: 其他\r\n*/\r\nexport default {\r\n  props:['id'],\r\n  components: {\r\n    resFooter: () => import(\"@/components/res-footer\")\r\n  },\r\n  data() {\r\n    return {\r\n      filterMethod(query, item) {\r\n        return item.label.indexOf(query) > -1;\r\n      },\r\n      // 显示高级选项\r\n      showAdvance: false,\r\n      /* start */\r\n      // id:'388781367586201600',\r\n      showSelect:false,\r\n      fileInfo:{},\r\n      /* imageUrl */\r\n      // 封面\r\n      selectImgPic:{file:'',url:''},\r\n      fileList:new Array(4).fill(0),\r\n\r\n      //学段list\r\n      allStageList:[],\r\n      stageValue: \"-1\",\r\n      // 科目\r\n      allSubject:[],\r\n      subjectValue: \"-1\",\r\n      //年级\r\n      allGradeList:[],\r\n      gradeValue: \"-1\",\r\n      //版本\r\n      allVersionList:[],\r\n      versionValue: \"-1\",\r\n      // tree lists\r\n      treeList:[],\r\n      defaultProps:{\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      // 相关课程value\r\n      selectedLesson:{\r\n        value:'',\r\n        label:''\r\n      },\r\n      // 资源名称\r\n      resourceName:'',\r\n      // 简介\r\n      resourceMask:'',\r\n      // 资源类型\r\n      resourceType:'9060',\r\n      // 权限\r\n      authType:'9070',\r\n      //授权密码\r\n      authPassword:'',\r\n      //授权机构\r\n      orgValueText:'',\r\n      allOrg:[],\r\n      authOrgArray:[],  // 自动选中 v-modal\r\n      selectedArray:[], // 选中\r\n      canDownload:\"1\",\r\n      attachmentList:[] //\r\n    };\r\n  },\r\n  watch:{\r\n    watchChange(newValue){\r\n      this.getSubjectTree()\r\n    } \r\n  },\r\n  computed:{\r\n    watchChange(){\r\n      return {\r\n        stageValue:this.stageValue,\r\n        subjectValue:this.subjectValue,\r\n        gradeValue:this.gradeValue,\r\n        versionValue:this.versionValue\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.initInfo();\r\n    this.getAllGrade();\r\n    this.getAllSubject();\r\n    this.getAllClass();\r\n    this.getAllVersion();\r\n    this.selectSchoolForPublicResource();\r\n    this.getSubjectTree();\r\n  },\r\n  methods: {\r\n    selectSchoolForPublicResource(){\r\n      this.$api.selectSchoolForPublicResource().then(res => {\r\n        this.allOrg = res.data.map(item => ({\r\n          label: item.displayName,\r\n          key: item.id,\r\n        }));\r\n      })\r\n    },\r\n    initInfo(){\r\n      this.$api.selectFileInfo(this.id).then(res => {\r\n        this.fileInfo = res.data;\r\n        this.fileList.splice(0,1,res.data.img_url)\r\n      })\r\n    },\r\n    /* 获取课程树 */\r\n    getSubjectTree(){\r\n      const params = {\r\n        gradeId:this.gradeValue,\r\n        periodId:this.stageValue,\r\n        subjectId:this.subjectValue,\r\n        textbookVersionId:this.versionValue\r\n      }\r\n      this.$api.getSubjectTree(params).then(res => {\r\n        this.treeList = res.data;\r\n      })\r\n    },\r\n    /* 全部学段 字典*/\r\n    getAllGrade() {\r\n      const params = { type: \"stage\" };\r\n      this.$api.dictGetByType(params).then(res => {\r\n        this.allStageList = res.data;\r\n      });\r\n    },\r\n    /* 全部科目 接口*/\r\n    getAllSubject(){\r\n      // 不传 获取 全部科目 传 学段periodId 获取对应的\r\n      this.$api.getSubjectByGrade().then(res => {\r\n        this.allSubject = res.data;\r\n      });\r\n    },\r\n    /* 全部年级 字典*/\r\n    getAllClass() {\r\n      const params = { type: \"grade\" };\r\n      this.$api.dictGetByType(params).then(res => {\r\n        this.allGradeList = res.data;\r\n      });\r\n    },\r\n    /* 全部版本 接口*/\r\n    getAllVersion() {\r\n      this.$api.getKeyAndValue().then(res => {\r\n        this.allVersionList = res.data;\r\n      });\r\n    },\r\n    handleFocus() {\r\n      this.authOrgArray = this.selectedArray;\r\n      this.$myLayer.formLayer(\r\n        \"指定机构查看\",\r\n        $(\".transfer\"),\r\n        [\"749px\", \"536px\"],\r\n        () => {\r\n          this.selectedArray = this.authOrgArray;\r\n          if(this.selectedArray.length > 0) {\r\n            this.orgValueText = this.selectedArray.length + '个'\r\n          } else {\r\n            this.orgValueText = \"\"\r\n          }\r\n        }\r\n      );\r\n    },\r\n    handleUploadCoverPic(file){\r\n      const targetFile = file.target.files[0];\r\n      const url = window.URL.createObjectURL(targetFile);\r\n      this.selectImgPic = {url,file:targetFile};\r\n    },\r\n    handleChangeCoverPic(item){\r\n      if(!item) return false;\r\n      this.selectImgPic = {url:item,file:''};\r\n    },\r\n    handleOutFocusInput(e){\r\n      this.showSelect=false\r\n    },\r\n    // 点击树\r\n    handleNodeClick(data){\r\n      if(!data.hasNext) {\r\n        this.selectedLesson = {value:data.id,label:data.name};\r\n        this.handleOutFocusInput();\r\n      }\r\n    },\r\n    checkRequiredParams(){\r\n      if(this.resourceName && this.selectImgPic.url && this.selectedLesson.value) {\r\n        return true\r\n      }\r\n      this.$myLayer.dangerLayer(\"请完善资源信息\")\r\n      return false\r\n    },\r\n    handleRemoveFile(file) {\r\n      const res =  this.attachmentList.filter(item => item.attachmentName!=file.name)\r\n      this.attachmentList = [...res]\r\n    },\r\n    handleUploadFile(target) {\r\n      let form = new FormData();\r\n      form.append(\"file\",target.file);\r\n      this.$api.uploadFileCoverPic(form).then(res => {\r\n        const fileInfo = {attachmentName:target.file.name,attachmentUrl:res.data}\r\n        this.attachmentList.push(fileInfo)\r\n      })      \r\n    },\r\n    // 保存发布\r\n    handleSave() {\r\n      if(!this.checkRequiredParams()) return false;\r\n      const params = {\r\n        resourcePic:this.selectImgPic.url,\r\n        resourceName:this.resourceName,\r\n        resourceMask:this.resourceMask,\r\n        resourceType:this.resourceType,\r\n        catalogId:this.selectedLesson.value, //目录\r\n        stageId:this.stageValue,\r\n        subjectId:this.subjectValue,\r\n        gradeId:this.gradeValue,\r\n        versionId:this.versionValue,\r\n        authType:this.authType,\r\n        authPassword:this.authPassword,\r\n        authOrgArray:this.selectedArray,\r\n        canDownload:this.canDownload,\r\n        attachmentList:this.attachmentList,\r\n        fileId:this.fileInfo.file_id,\r\n        fileType:this.fileInfo.file_type,\r\n        fileTime:this.fileInfo.runing_time,\r\n      }\r\n\r\n      /* 上传图片 */\r\n      if(this.selectImgPic.file) {\r\n        let form = new FormData();\r\n        form.append(\"file\",this.selectImgPic.file)\r\n        this.$api.uploadFileCoverPic(form).then(res => {\r\n          params.resourcePic = res.data;\r\n          this.$api.saveResourceInfo(params).then(res => {\r\n            this.$myLayer.successLayer(\"发布成功\")\r\n          })\r\n        })        \r\n      } else {\r\n        this.$api.saveResourceInfo(params).then(res => {\r\n            this.$myLayer.successLayer(\"发布成功\")\r\n        })\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.upload-res {\r\n  padding-top: 10px;\r\n  min-width: 1200px;\r\n  .content {\r\n    width: 1200px;\r\n    margin: 34px auto 0;\r\n    background: #fff;\r\n    .current-video {\r\n      height: 88px;\r\n      background: #f5f5f5;\r\n      line-height: 88px;\r\n      color: #303133;\r\n      font-size: 16px;\r\n      padding-left: 40px;\r\n    }\r\n    .res-cover {\r\n      .title {\r\n        line-height: 1;\r\n        margin: 29px 0 22px 0;\r\n        .name {\r\n          position: relative;\r\n          padding-left: 10px;\r\n        }\r\n        .size {\r\n          color: #909399;\r\n        }\r\n      }\r\n      .upload-wrap {\r\n        display: flex;\r\n        .upload {\r\n          position: relative;\r\n          width: 288px;\r\n          height: 162px;\r\n          border: 1px dashed #d9d9d9;\r\n          border-radius: 6px;\r\n          &:hover {\r\n            border-color: #409eff;\r\n          }\r\n          > i {\r\n            z-index: 99;\r\n          }\r\n          > input {\r\n            z-index: 998;\r\n            position: absolute;\r\n            cursor: pointer;\r\n            width: 100%;\r\n            height: 100%;\r\n            outline: none;\r\n            opacity: 0;\r\n          }\r\n          > img {\r\n            position: absolute;\r\n            z-index: 997;\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n          .cover-logo {\r\n            position: absolute;\r\n            z-index: 999;\r\n            right: 0;\r\n            bottom: 0;\r\n            width: 72px;\r\n            height: 24px;\r\n            background: rgba(0, 0, 0, 0.4);\r\n            color: #fff;\r\n            line-height: 24px;\r\n            text-align: center;\r\n            border-top-left-radius: 4px;\r\n          }\r\n        }\r\n        .cover-select {\r\n          flex: 1;\r\n          margin-left: 40px;\r\n          padding: 15px 30px;\r\n          border: 1px solid #e5e5e5;\r\n          border-radius: 6px;\r\n          .note {\r\n            color: #909399;\r\n          }\r\n          .covers {\r\n            margin-top: 8px;\r\n            display: flex;\r\n            & > div:last-child {\r\n              margin-right: 0;\r\n            }\r\n            .cover-item {\r\n              margin-right: 28px;\r\n              flex: 1;\r\n              height: 104px;\r\n              background: #f8f8f8;\r\n              position: relative;\r\n              cursor: pointer;\r\n              img {\r\n                width: 100%;\r\n                height: 100%;\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n                bottom: 0;\r\n                right: 0;\r\n                z-index: 2;\r\n              }\r\n              i {\r\n                z-index: 1;\r\n                font-size: 30px;\r\n                color: #999;\r\n              }\r\n              &.active {\r\n                outline: 2px solid #3489FF;\r\n                // outline: -2px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .res-info {\r\n        margin-top: 30px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .left {\r\n          width: 560px;\r\n          .res-name {\r\n            & > span {\r\n              width: 100px;\r\n              display: inline-block;\r\n              position: relative;\r\n              padding-left: 10px;\r\n            }\r\n            display: flex;\r\n            align-items: center;\r\n            margin-bottom: 34px;\r\n          }\r\n          .res-type {\r\n            margin-bottom: 34px;\r\n            & > span {\r\n              position: relative;\r\n              padding-left: 10px;\r\n            }\r\n          }\r\n          .relate-course {\r\n            position: relative;\r\n            & > span {\r\n              position: relative;\r\n              padding-left: 10px;\r\n            }\r\n            .select-wrap {\r\n              position: absolute;\r\n              top: 40px;\r\n              left: 80px;\r\n              width: 530px;\r\n              height: 300px;\r\n              background: #fff;\r\n              z-index: 998;\r\n              border-radius: 4px;\r\n              box-shadow: 0 0 7.2px 0.8px rgba(0, 0, 0, .1);\r\n              .select-lists {\r\n                overflow: hidden;\r\n                height: 240px;\r\n              }\r\n              .select-items {\r\n                padding: 12px;\r\n                display: flex;\r\n                justify-content: space-between;\r\n                &>div{width: 120px;}\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .right {\r\n          position: relative;\r\n          width: 520px;\r\n          height: 120px;\r\n          &::before {\r\n            content: \"简介:\";\r\n            position: absolute;\r\n            left: -40px;\r\n            top: 0;\r\n            color: #606266;\r\n          }\r\n        }\r\n      }\r\n      .advance-course {\r\n        margin-top: 34px;\r\n        .title {\r\n          width: 90px;\r\n          cursor: pointer;\r\n          padding-left: 10px;\r\n        }\r\n        .advance-content {\r\n          border-top: 1px solid #e5e5e5;\r\n          border-bottom: 1px solid #e5e5e5;\r\n          padding: 30px 0  0;\r\n          margin-left: 10px;\r\n          .authty {\r\n            display: flex;\r\n            align-items: center;\r\n            .visited {\r\n              width: 540px;\r\n            }\r\n            .down {\r\n              margin-left: 90px;\r\n            }\r\n          }\r\n          .res-upload {\r\n            margin-top: 28px;\r\n            display: flex;\r\n            height: 100px;\r\n            // align-items: center;\r\n            .upload-btn {\r\n              margin-left: 10px;\r\n              width: 66px;\r\n              height: 36px;\r\n              background: #f9fafb;\r\n              border-radius: 4px;\r\n              line-height: 36px;\r\n              text-align: center;\r\n              color: #606266;\r\n              border: 1px solid #dcdfe6;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .save {\r\n        cursor: pointer;\r\n        margin: 48px auto 90px;\r\n        // margin-top: 48px;\r\n        width: 360px;\r\n        height: 42px;\r\n        color: #fff;\r\n        border-radius: 4px;\r\n        line-height: 42px;\r\n        text-align: center;\r\n        background: rgba(52, 137, 255, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n.red-dot::before {\r\n  content: \"*\";\r\n  position: absolute;\r\n  left: 0;\r\n  top: 3px;\r\n  color: red;\r\n}\r\n.transfer {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: none;\r\n  padding: 30px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.upload-res .avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.upload-res .avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n\r\n.upload-res .avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 288px;\r\n  height: 162px;\r\n  line-height: 162px;\r\n  text-align: center;\r\n}\r\n\r\n.upload-res .avatar {\r\n  width: 288px;\r\n  height: 162px;\r\n  display: block;\r\n}\r\n\r\n/* transfer */\r\n.transfer .el-transfer {\r\n  height: 100%;\r\n  display: flex;\r\n  align-self: center;\r\n}\r\n.transfer .el-transfer > div {\r\n}\r\n.transfer .el-transfer .el-transfer-panel {\r\n  flex: 1;\r\n}\r\n.transfer .el-transfer-panel__header {\r\n  display: none;\r\n}\r\n.transfer .el-transfer-panel__body {\r\n  height: 100%;\r\n}\r\n.transfer .el-transfer-panel__list.is-filterable {\r\n  height: 100%;\r\n}\r\n\r\n.transfer .el-transfer-panel__filter {\r\n  margin: 0;\r\n}\r\n\r\n.transfer .el-transfer-panel__filter .el-input__inner {\r\n  border-radius: 0;\r\n  border: none;\r\n  border-bottom: 1px solid #e5e5e5;\r\n}\r\n\r\n.transfer .el-input__prefix {\r\n  left: 160px;\r\n}\r\n\r\n.transfer .el-transfer__buttons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.transfer .el-transfer__button {\r\n  border-radius: 4px;\r\n  width: 45px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding: 0;\r\n}\r\n\r\n.transfer .el-transfer__button span i {\r\n  color: #fff;\r\n}\r\n\r\n.transfer .el-transfer__button.is-disabled span i {\r\n  color: #b5b5b5;\r\n}\r\n.upload-res .el-tree {\r\n  background: #fff;\r\n}\r\n</style>","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=style&index=0&id=2b0c1124&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=style&index=0&id=2b0c1124&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-res.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}