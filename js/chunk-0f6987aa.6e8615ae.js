(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f6987aa","chunk-39930572","chunk-66786a86","chunk-5869f344"],{"071f":function(e,t,n){"use strict";var a=n("f97d"),i=n.n(a);i.a},"0a49":function(e,t,n){var a=n("9b43"),i=n("626a"),o=n("4bf8"),s=n("9def"),l=n("cd1c");e.exports=function(e,t){var n=1==e,r=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,m=t||l;return function(t,l,f){for(var p,g,b=o(t),v=i(b),y=a(l,f,3),k=s(v.length),S=0,w=n?m(t,k):r?m(t,0):void 0;k>S;S++)if((h||S in v)&&(p=v[S],g=y(p,S,b),e))if(n)w[S]=g;else if(g)switch(e){case 3:return!0;case 5:return p;case 6:return S;case 2:w.push(p)}else if(u)return!1;return d?-1:c||u?u:w}}},1169:function(e,t,n){var a=n("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},1721:function(e,t,n){"use strict";(function(e){n("7f7f"),n("7514");var a=n("55a9"),i=n("6aa4"),o=n("7064");t["a"]={data:function(){return{pageTile:"教材管理",model:{name:"添加",icon:"icon-add"},modela:{name:"导入",icon:"icon-input"},modelc:{name:"禁用",icon:"icon-stop"},honForm:{learnsection:"",gradeIdName:"",subjects:"",version:"",grade:"",volume:"",note:""},honFormchinesename:{learnsectionname:"",volumename:"",subjectsname:"",gradename:""},formRules:{learnsection:[{required:!0,message:"请选择学段",trigger:"change"}],subjects:[{required:!0,message:"请选择学科",trigger:"change"}],version:[{required:!0,message:"请选择版本",trigger:"change"}],grade:[{required:!0,message:"请选择年级",trigger:"change"}],volume:[{required:!0,message:"请选择分册",trigger:"change"}]},isGradeSelect:!0,phase:[],bookversion:[],versiondata:[],gradeData:[],volumedata:[],selectMinWidth:0,patState:null,sinState:null,discipline:[],formInline:{bookname:"",discipline:"",bookversion:""},tableData:[],pageSize:10,pageCurrent:1,pageTotal:0,status:0,value:"",multipleSelection:[]}},components:{"bnt-list":a["default"],stateSwitch:i["default"],"kno-paging":o["default"]},created:function(){this.geTableAllData(),this.dictionary(),this.subjectSelect(),this.versionApiData()},methods:{geTableAllData:function(){var e=this,t={contentName:this.formInline.bookname,pageIndex:this.pageCurrent,pageSize:this.pageSize,subjectId:this.formInline.discipline,textbookVersionId:this.formInline.bookversion,status:this.status};this.$api.tablepaging(t).then(function(t){if(1==t.success){e.pageTotal=parseInt(t.totalDatas);var n=0;for(n=0;n<t.data.length;n++)t.data[n].showBtn=!1;e.tableData=t.data,console.log("res--",t.data)}})},goDetails:function(e){this.$router.push({path:"/basic/Layout/material-man-details",query:{id:e.id}})},dictionary:function(){var e=this,t={type:["stage","grade","sheetsType"]};this.$api.dictSelect(t).then(function(t){if(1==t.success){var n=0;for(n=0;n<t.data.length;n++)"stage"==t.data[n].type?e.phase=t.data[n].data:"grade"==t.data[n].type?e.gradeData=t.data[n].data:"sheetsType"==t.data[n].type&&(e.volumedata=t.data[n].data)}})},subjectSelect:function(){var e=this,t={};this.$api.subjectSelect(t).then(function(t){1==t.success&&(e.discipline=t.data)})},versionApiData:function(){var e=this;this.$api.versionSelect().then(function(t){1==t.success&&(e.versiondata=t.data)})},addMaskTableData:function(){var e={gradeId:0,gradeIdName:"string",id:0,notes:"string",periodId:0,periodIdName:"string",sheetsType:0,sheetsTypeText:"string",subjectId:0,subjectIdName:"string",textbookVersionId:0};this.$api.bookAdd(e).then(function(e){})},getPhaseValue:function(e){var t=this.gradeData;console.log("学段",e);var n={};n=this.phase.find(function(t){return t.code==e}),this.honFormchinesename.learnsectionname=n.text,console.log("学段",this.honFormchinesename.learnsectionname),0==e?this.isGradeSelect=!1:2==e||3==e||4==e?(this.gradeData=this.gradeData.slice(0,3),this.isGradeSelect=!0):(this.isGradeSelect=!0,this.gradeData=t)},getvolumeValue:function(e){var t={};t=this.volumedata.find(function(t){return t.code==e}),this.honFormchinesename.volumename=t.text,console.log("分册",this.honFormchinesename.volumename)},getSubjectsValue:function(e){console.log("学科",e);var t={};t=this.discipline.find(function(t){return t.id==e}),this.honFormchinesename.subjectsname=t.name,console.log("学科",this.honFormchinesename.subjectsname)},getGrade:function(e){var t={};t=this.gradeData.find(function(t){return t.code==e}),this.honFormchinesename.gradename=t.text,console.log("年级",this.honFormchinesename.gradename)},setSelectMinWidth:function(e){var t=e.srcElement?e.srcElement:e.target;this.selectMinWidth=t.clientWidth},knoAdd:function(e){1==e?this.dataAdd():2==e?console.log("导入"):4==e&&(this.patState={status:1,text:"确定停用所选项"},this.batState())},batState:function(){var e=this,t=[],n=0;for(n=0;n<e.multipleSelection.length;n++)t.push(e.multipleSelection[n].id);var a={status:e.patState.status,pointIds:t};0==t.length?e.$myLayer.errorLayer("至少选择一条数据"):e.$myLayer.confirmLayer(e.patState.text,function(){e.$api.knowledgeState(a).then(function(t){1==t.success?e.$myLayer.successLayer(t.msg):e.$myLayer.errorLayer(t.msg)})})},dataAdd:function(){var t=this;t.$refs["honForm"].resetFields(),this.$myLayer.formLayer("新建",e(".stu-yeaer-modal-add"),["422px"],function(){t.$refs["honForm"].validate(function(e){if(!e)return!1;var n={gradeId:t.honForm.grade,gradeIdText:t.honFormchinesename.gradename,notes:t.honForm.note,periodId:t.honForm.learnsection,periodIdText:t.honFormchinesename.learnsectionname,sheetsType:t.honForm.volume,sheetsTypeText:t.honFormchinesename.volumename,subjectId:t.honForm.subjects,subjectIdName:t.honFormchinesename.subjectsname,textbookVersionId:t.honForm.version};console.log("提交后台的参数",n),t.$api.bookAddData(n).then(function(e){1==e.success?(t.geTableAllData(),console.log("后端数据",e),t.$myLayer.successLayer(e.msg)):t.$myLayer.errorLayer(e.msg)})})})},konEditor:function(e){console.log("123343",e),this.$router.push({path:"/basic/Layout/material-man-details",query:{editSwitch:!0,editorFlag:!1,id:e.id}})},search:function(e){1==e?this.geTableAllData():this.formInline={bookname:"",discipline:"",bookversion:""}},handleSelectionChange:function(e){this.multipleSelection=e},handleMouseEnter:function(e){e.showBtn=!0},handleMouseLeave:function(e){e.showBtn=!1},stateList:function(e){this.status=e,this.geTableAllData()},SizeChange:function(e){this.pageSize=e,this.geTableAllData()},CurrentChange:function(e){this.pageCurrent=e,this.geTableAllData()},disable:function(e,t){var n=this;n.sinState=1==t?{status:1,text:"确定停用该类型"}:{status:0,text:"确定起用该类型"};var a={id:e.id,status:t};n.$myLayer.confirmLayer(n.sinState.text,function(){n.$api.versionDis(a).then(function(e){1==e.success?(n.$myLayer.successLayer(e.msg),n.geTableAllData()):n.$myLayer.errorLayer(e.msg)})})}}}}).call(this,n("1157"))},"27b8":function(e,t,n){"use strict";var a=n("cdb8"),i=n.n(a);i.a},"4a13":function(e,t,n){},"55a9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.list.name,placement:"top"}},[n("button",{staticClass:"icon-btn",on:{click:e.btnClick}},[n("i",{staticClass:"iconfont",class:e.list.icon})])])},i=[],o={name:"btnList",props:{model:Object},data:function(){return{list:this.model}},created:function(){},methods:{btnClick:function(){this.$emit("btn-click",this.model.alias)}}},s=o,l=(n("b6d5"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"18503ae0",null);r.options.__file="btn-list.vue";t["default"]=r.exports},6635:function(e,t,n){"use strict";var a=n("4a13"),i=n.n(a);i.a},"6aa4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"state-switch"},[n("ul",e._l(e.switchList,function(t,a){return n("li",{key:a,class:e.activeClass==a?"active":"",on:{click:function(n){e.switchState(a,t)}}},[e._v(e._s(t.name))])}))])},i=[],o={name:"state-switch",data:function(){return{switchList:[{name:"启用",state:0},{name:"停用",state:1},{name:"全部",state:""}],activeClass:0}},methods:{switchState:function(e,t){var n=this;n.activeClass=e,n.$emit("switchL",t.state)}}},s=o,l=(n("6635"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"770013e8",null);r.options.__file="state-switch.vue";t["default"]=r.exports},7064:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paging"},[n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},i=[],o={name:"paging",data:function(){return{currentPage:1}},props:["pageTotal"],created:function(){},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},s=o,l=(n("8acc"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"32390cbc",null);r.options.__file="paging.vue";t["default"]=r.exports},7514:function(e,t,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),a(a.P+a.F*s,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"7f7f":function(e,t,n){var a=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n("9e1e")&&a(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"8acc":function(e,t,n){"use strict";var a=n("b7f9"),i=n.n(a);i.a},b6d5:function(e,t,n){"use strict";var a=n("f9e4"),i=n.n(a);i.a},b7f9:function(e,t,n){},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},cdb8:function(e,t,n){},e6f0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-template"},[n("el-row",{staticClass:"kno-title"},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content bg-purple cha-title"},[e._v(e._s(e.pageTile))])]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("bnt-list",{attrs:{model:e.model},on:{"btn-click":function(t){e.knoAdd(1)}}}),n("bnt-list",{attrs:{model:e.modela},on:{"btn-click":function(t){e.knoAdd(2)}}}),n("bnt-list",{attrs:{model:e.modelc},on:{"btn-click":function(t){e.knoAdd(4)}}})],1)])],1),n("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入教材名称"},model:{value:e.formInline.bookname,callback:function(t){e.$set(e.formInline,"bookname",t)},expression:"formInline.bookname"}})],1),n("el-form-item",{attrs:{label:"学科:"}},[n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"不限"},model:{value:e.formInline.discipline,callback:function(t){e.$set(e.formInline,"discipline",t)},expression:"formInline.discipline"}},e._l(e.discipline,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),n("el-form-item",{attrs:{label:"教材版本:"}},[n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"不限"},model:{value:e.formInline.bookversion,callback:function(t){e.$set(e.formInline,"bookversion",t)},expression:"formInline.bookversion"}},e._l(e.versiondata,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),n("el-form-item",[n("button",{staticClass:"primary-btn",on:{click:function(t){e.search(1)}}},[e._v("查询")]),n("button",{staticClass:"clear-btn",on:{click:function(t){e.search(2)}}},[e._v("清空")])])],1),n("el-table",{staticClass:"base-table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{type:"index",label:"序号",width:"120"}}),n("el-table-column",{attrs:{label:"名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("router-link",{staticClass:"namefontcolor",attrs:{to:""},nativeOn:{click:function(n){e.goDetails(t.row)}}},[e._v(e._s(t.row.contentName)+" ")])]}}])}),n("el-table-column",{attrs:{prop:"periodIdText",label:"学段"}}),n("el-table-column",{attrs:{prop:"textbookVersionIdName",label:"版本"}}),n("el-table-column",{attrs:{prop:"notes",label:"备注"}}),n("el-table-column",{attrs:{prop:"statusText",label:"状态"}}),n("el-table-column",{attrs:{prop:"id",label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.showBtn?n("ul",{staticClass:"tableOpe operation-table",on:{mouseleave:function(n){e.handleMouseLeave(t.row)}}},[n("li",{staticClass:"tableOpe-stop-or-start"},[0==t.row.status?n("span",{on:{click:function(n){e.disable(t.row,1)}}},[e._v("停用")]):n("span",{on:{click:function(n){e.disable(t.row,0)}}},[e._v("启用")])]),n("li",{staticClass:"operation-edu",on:{click:function(n){e.konEditor(t.row)}}},[e._v("编辑")])]):n("i",{staticClass:"iconfont icon-more",on:{mouseenter:function(n){e.handleMouseEnter(t.row)}}})]}}])})],1),n("el-row",{staticClass:"kno-bnt"},[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"grid-content bg-purple cha-title"},[n("stateSwitch",{on:{switchL:e.stateList}})],1)]),n("el-col",{attrs:{span:19}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("kno-paging",{attrs:{pageTotal:e.pageTotal},on:{handleSizeChange:e.SizeChange,handleCurrentChange:e.CurrentChange}})],1)])],1),n("div",{staticClass:"stu-yeaer-modal-add"},[n("div",{staticClass:"modalAdd"},[n("el-form",{ref:"honForm",attrs:{model:e.honForm,"label-width":"88px",rules:e.formRules}},[n("el-form-item",{attrs:{label:"学段",prop:"learnsection"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{focus:e.setSelectMinWidth,change:e.getPhaseValue},model:{value:e.honForm.learnsection,callback:function(t){e.$set(e.honForm,"learnsection",t)},expression:"honForm.learnsection"}},e._l(e.phase,function(t){return n("el-option",{key:t.code,style:{"min-width":e.selectMinWidth+2+"px"},attrs:{label:t.text,value:t.code}})}))],1),n("el-form-item",{attrs:{label:"学科",prop:"subjects"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{focus:e.setSelectMinWidth,change:e.getSubjectsValue},model:{value:e.honForm.subjects,callback:function(t){e.$set(e.honForm,"subjects",t)},expression:"honForm.subjects"}},e._l(e.discipline,function(t){return n("el-option",{key:t.id,style:{"min-width":e.selectMinWidth+2+"px"},attrs:{label:t.name,value:t.id}})}))],1),n("el-form-item",{attrs:{label:"版本",prop:"version"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{focus:e.setSelectMinWidth},model:{value:e.honForm.version,callback:function(t){e.$set(e.honForm,"version",t)},expression:"honForm.version"}},e._l(e.versiondata,function(t){return n("el-option",{key:t.id,style:{"min-width":e.selectMinWidth+2+"px"},attrs:{label:t.name,value:t.id}})}))],1),e.isGradeSelect?n("el-form-item",{attrs:{label:"年级",prop:"grade"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{focus:e.setSelectMinWidth,change:e.getGrade},model:{value:e.honForm.grade,callback:function(t){e.$set(e.honForm,"grade",t)},expression:"honForm.grade"}},e._l(e.gradeData,function(t){return n("el-option",{key:t.code,style:{"min-width":e.selectMinWidth+2+"px"},attrs:{label:t.text,value:t.code}})}))],1):e._e(),n("el-form-item",{attrs:{label:"分册",prop:"volume"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{focus:e.setSelectMinWidth,change:e.getvolumeValue},model:{value:e.honForm.volume,callback:function(t){e.$set(e.honForm,"volume",t)},expression:"honForm.volume"}},e._l(e.volumedata,function(t){return n("el-option",{key:t.code,style:{"min-width":e.selectMinWidth+2+"px"},attrs:{label:t.text,value:t.code}})}))],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{model:{value:e.honForm.note,callback:function(t){e.$set(e.honForm,"note",t)},expression:"honForm.note"}})],1)],1)],1)])],1)},i=[],o=n("1721"),s=o["a"],l=(n("071f"),n("27b8"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"79d89183",null);r.options.__file="material-conet.vue";t["default"]=r.exports},e853:function(e,t,n){var a=n("d3f4"),i=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},f97d:function(e,t,n){},f9e4:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0f6987aa.6e8615ae.js.map